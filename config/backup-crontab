# Solr Automated Backup Crontab
# Format: minute hour day month weekday command

# Daily backup at 2:00 AM
0 2 * * * /scripts/backup-cron.sh >> /var/log/backup.log 2>&1

# Weekly cleanup on Sunday at 3:00 AM
0 3 * * 0 find /var/solr/backups -type d -name "backup_*" -mtime +30 -exec rm -rf {} \; 2>/dev/null

# Health check every hour (optional monitoring)
0 * * * * curl -sf http://solr:8983/solr/admin/ping || echo "Solr ping failed at $(date)" >> /var/log/backup.log
